[gd_scene load_steps=32 format=3 uid="uid://b04toksfcttp8"]

[ext_resource type="PackedScene" uid="uid://dd50stejxmfgy" path="res://assets/models/first_person_charter/first_person_charter.glb" id="1_dmo8i"]
[ext_resource type="Script" uid="uid://bfmkxjag30dhi" path="res://assets/models/first_person_charter/first_person_charter_model.gd" id="2_2yo2j"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2c75t"]
resource_local_to_scene = true
albedo_color = Color(0, 0, 0, 1)
emission_enabled = true
emission = Color(0, 0.697856, 0.803526, 1)

[sub_resource type="ViewportTexture" id="ViewportTexture_2yo2j"]
viewport_path = NodePath("SubViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kc2fr"]
resource_local_to_scene = true
shading_mode = 0
albedo_texture = SubResource("ViewportTexture_2yo2j")
texture_filter = 0

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_2c75t"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_d4c8a"]
animation = &"fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2yo2j"]
animation = &"grab_wepon"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mlukq"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2nhtc"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kc2fr"]
animation = &"lower_wepon"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2c75t"]
animation = &"grab_wepon"
use_custom_timeline = true
timeline_length = 1.0
stretch_time_scale = true
start_offset = 1.0
loop_mode = 0

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_2c75t"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xhtr8"]
animation = &"automatic_shoots"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_dp5we"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_amsim"]
animation = &"pump_shot"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_mlukq"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2o8fk"]
animation = &"semi_automatic_shoots"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_xnqgh"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dp5we"]
animation = &"strong_shoot"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_dtxcv"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_dp5we"]
xfade_time = 0.1
input_0/name = "jump"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "fall"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "shot_auto"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true
input_3/name = "shot_strong"
input_3/auto_advance = false
input_3/break_loop_at_end = false
input_3/reset = true
input_4/name = "shot_punp"
input_4/auto_advance = false
input_4/break_loop_at_end = false
input_4/reset = true
input_5/name = "shot_semi_automatic"
input_5/auto_advance = false
input_5/break_loop_at_end = false
input_5/reset = true
input_6/name = "grab_wepon"
input_6/auto_advance = false
input_6/break_loop_at_end = false
input_6/reset = true
input_7/name = "lower_wepon"
input_7/auto_advance = false
input_7/break_loop_at_end = false
input_7/reset = true
input_8/name = "none"
input_8/auto_advance = false
input_8/break_loop_at_end = false
input_8/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dtxcv"]
animation = &"walk"

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_dp5we"]

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_2nhtc"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xnqgh"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bf2gt"]
animation = &"sway_L"
use_custom_timeline = true
timeline_length = 1.0
stretch_time_scale = true
start_offset = 1.0
loop_mode = 0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mcg2o"]
animation = &"sway_R"
use_custom_timeline = true
timeline_length = 1.0
stretch_time_scale = true
start_offset = 1.0
loop_mode = 0

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_aiyyq"]
blend_point_0/node = SubResource("AnimationNodeAnimation_xnqgh")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_bf2gt")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_mcg2o")
blend_point_2/pos = -1.0

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_5fvbv"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_dp5we"]
graph_offset = Vector2(-307.103, 245.348)
nodes/Add2/node = SubResource("AnimationNodeAdd2_2c75t")
nodes/Add2/position = Vector2(1640, 140)
nodes/fall/node = SubResource("AnimationNodeAnimation_d4c8a")
nodes/fall/position = Vector2(-220, 280)
nodes/grab_wepon/node = SubResource("AnimationNodeAnimation_2yo2j")
nodes/grab_wepon/position = Vector2(-280, 1320)
nodes/idle/node = SubResource("AnimationNodeAnimation_mlukq")
nodes/idle/position = Vector2(1480, 340)
nodes/jump/node = SubResource("AnimationNodeAnimation_2nhtc")
nodes/jump/position = Vector2(-380, 160)
nodes/lower_weapon/node = SubResource("AnimationNodeAnimation_kc2fr")
nodes/lower_weapon/position = Vector2(-300, 1560)
nodes/none/node = SubResource("AnimationNodeAnimation_2c75t")
nodes/none/position = Vector2(-280, 1740)
nodes/output/position = Vector2(2740, 260)
nodes/punp_shot/node = SubResource("AnimationNodeOneShot_2c75t")
nodes/punp_shot/position = Vector2(940, 180)
nodes/shot_auto/node = SubResource("AnimationNodeAnimation_xhtr8")
nodes/shot_auto/position = Vector2(-500, 440)
nodes/shot_auto_speed/node = SubResource("AnimationNodeTimeScale_dp5we")
nodes/shot_auto_speed/position = Vector2(-220, 480)
nodes/shot_punp/node = SubResource("AnimationNodeAnimation_amsim")
nodes/shot_punp/position = Vector2(460, 360)
nodes/shot_punp_speed/node = SubResource("AnimationNodeTimeScale_mlukq")
nodes/shot_punp_speed/position = Vector2(680, 340)
nodes/shot_semi_automatico/node = SubResource("AnimationNodeAnimation_2o8fk")
nodes/shot_semi_automatico/position = Vector2(-680, 1120)
nodes/shot_semi_automatico_speed/node = SubResource("AnimationNodeTimeScale_xnqgh")
nodes/shot_semi_automatico_speed/position = Vector2(-380, 1100)
nodes/strong_shot/node = SubResource("AnimationNodeAnimation_dp5we")
nodes/strong_shot/position = Vector2(-520, 680)
nodes/strong_shot_time/node = SubResource("AnimationNodeTimeScale_dtxcv")
nodes/strong_shot_time/position = Vector2(-300, 680)
nodes/transition_estate/node = SubResource("AnimationNodeTransition_dp5we")
nodes/transition_estate/position = Vector2(160, 120)
nodes/walk/node = SubResource("AnimationNodeAnimation_dtxcv")
nodes/walk/position = Vector2(2140, 500)
nodes/walk_influence/node = SubResource("AnimationNodeAdd2_dp5we")
nodes/walk_influence/position = Vector2(2480, 260)
nodes/walk_speed/node = SubResource("AnimationNodeTimeScale_2nhtc")
nodes/walk_speed/position = Vector2(2300, 460)
nodes/walk_sway_direction/node = SubResource("AnimationNodeBlendSpace1D_aiyyq")
nodes/walk_sway_direction/position = Vector2(1880, 380)
nodes/walk_sway_influence/node = SubResource("AnimationNodeAdd2_5fvbv")
nodes/walk_sway_influence/position = Vector2(2100, 140)
node_connections = [&"Add2", 0, &"punp_shot", &"Add2", 1, &"idle", &"output", 0, &"walk_influence", &"punp_shot", 0, &"transition_estate", &"punp_shot", 1, &"shot_punp_speed", &"shot_auto_speed", 0, &"shot_auto", &"shot_punp_speed", 0, &"shot_punp", &"shot_semi_automatico_speed", 0, &"shot_semi_automatico", &"strong_shot_time", 0, &"strong_shot", &"transition_estate", 0, &"jump", &"transition_estate", 1, &"fall", &"transition_estate", 2, &"shot_auto_speed", &"transition_estate", 3, &"strong_shot_time", &"transition_estate", 5, &"shot_semi_automatico_speed", &"transition_estate", 6, &"grab_wepon", &"transition_estate", 7, &"lower_weapon", &"transition_estate", 8, &"none", &"walk_influence", 0, &"walk_sway_influence", &"walk_influence", 1, &"walk_speed", &"walk_speed", 0, &"walk", &"walk_sway_influence", 0, &"Add2", &"walk_sway_influence", 1, &"walk_sway_direction"]

[node name="first_person_charter" instance=ExtResource("1_dmo8i")]
script = ExtResource("2_2yo2j")
display_color = Color(0, 0.697856, 0.803526, 1)
display_text = "12A"
walk_influence = -1.0
walk_sway_influence = 0.0
transition_estate = 0

[node name="Skeleton3D" parent="charter_armature" index="0"]
bones/1/position = Vector3(-0.249395, 0.197565, -0.412224)
bones/1/rotation = Quaternion(-0.710002, 0.00148438, -0.00114901, 0.704198)

[node name="Cube_003" parent="charter_armature/Skeleton3D" index="0"]
transform = Transform3D(0.999993, -0.00372277, -0.000488912, 0.00372666, 0.999959, 0.00820684, 0.00045834, -0.00820863, 0.999966, -0.249432, -0.196935, 0.488888)

[node name="Cube_003" parent="charter_armature/Skeleton3D/Cube_003" index="0"]
layers = 2
gi_mode = 2
surface_material_override/1 = SubResource("StandardMaterial3D_2c75t")

[node name="muzle" type="RemoteTransform3D" parent="charter_armature/Skeleton3D/Cube_003" index="1"]
transform = Transform3D(1, 3.25144e-11, 0, 2.86491e-11, 1, 4.65661e-10, 0, 0, 1, 0, 0.05, 0.7)

[node name="Cube_002" parent="charter_armature/Skeleton3D" index="1"]
transform = Transform3D(0.999993, -0.00372277, -0.000488912, 0.00372666, 0.999959, 0.00820684, 0.00045834, -0.00820863, 0.999966, -0.249214, -0.27568, 0.653374)

[node name="Cube_002" parent="charter_armature/Skeleton3D/Cube_002" index="0"]
layers = 2
gi_mode = 2

[node name="Plane" parent="charter_armature/Skeleton3D" index="2"]
transform = Transform3D(0.999993, 0.000488912, -0.00372277, 0.00372666, -0.00820684, 0.999959, 0.00045834, -0.999966, -0.00820863, -0.249432, -0.196935, 0.488888)

[node name="Plane" parent="charter_armature/Skeleton3D/Plane" index="0"]
layers = 2
gi_mode = 2
surface_material_override/0 = SubResource("StandardMaterial3D_kc2fr")

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_dp5we")
anim_player = NodePath("../AnimationPlayer")
parameters/Add2/add_amount = 1.0
parameters/punp_shot/active = false
parameters/punp_shot/internal_active = false
parameters/punp_shot/request = 0
parameters/shot_auto_speed/scale = 2.0
parameters/shot_punp_speed/scale = 1.2
parameters/shot_semi_automatico_speed/scale = 0.0
parameters/strong_shot_time/scale = 1.1
parameters/transition_estate/current_state = "none"
parameters/transition_estate/transition_request = ""
parameters/transition_estate/current_index = 8
parameters/walk_influence/add_amount = -1
parameters/walk_speed/scale = 0.0
parameters/walk_sway_direction/blend_position = 0.0
parameters/walk_sway_influence/add_amount = 0.0

[node name="SubViewport" type="SubViewport" parent="." index="3"]
size = Vector2i(64, 32)

[node name="ColorRect" type="ColorRect" parent="SubViewport" index="0"]
offset_right = 64.0
offset_bottom = 64.0
color = Color(0, 0, 0, 1)

[node name="RichTextLabel" type="RichTextLabel" parent="SubViewport" index="1"]
offset_right = 64.0
offset_bottom = 64.0
scale = Vector2(1.4, 1)
size_flags_vertical = 3
theme_override_font_sizes/normal_font_size = 24
bbcode_enabled = true
text = "12A"
